<div class="background app-relative">
    <div class="app-card app-absolute login-container">
        <div class="login-header">
            登录 Blog
        </div>
        <div class="app-mt-24" [formGroup]="loginForm">
            <!-- 账号名 -->
            <div>
                <input dTextInput formControlName="username" placeholder="账号名" [size]="'lg'" />
            </div>
            <!-- 密码 -->
            <div class="app-mt-20">
                <d-form-control [suffixTemplate]="suffixTemplate">
                    <input dTextInput formControlName="password" placeholder="密码" [size]="'lg'" name="inputPassword"
                        [type]="showPassword ? 'text' : 'password'" />
                </d-form-control>

                <ng-template #suffixTemplate>
                    <i class="app-font-16" [class]="showPassword ? 'icon icon-preview' : 'icon icon-preview-forbidden'"
                        (click)="showPassword = !showPassword"></i>
                </ng-template>

            </div>
            <!-- 帐号或密码错误 -->
            <div *ngIf="userPassError" class="app-mt-8">
                <span class="devui-alert-icon">
                    <svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" class="devui-icon devui-icon-error">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" class="ng-star-inserted">
                            <g fill-rule="nonzero">
                                <path
                                    d="M8,0 C3.6,0 0,3.6 0,8 C0,12.4 3.6,16 8,16 C12.4,16 16,12.4 16,8 C16,3.6 12.4,0 8,0 Z"
                                    class="devui-icon-error-outer"></path>
                                <path
                                    d="M9,10.6 L9,12.6 L7,12.6 L7,10.6 L9,10.6 Z M9.1,3.1 L8.65924344,9.1 L7.28422786,9.1 L6.9,3.1 L9.1,3.1 Z"
                                    stroke-width="0.2" class="devui-icon-error-inner"></path>
                            </g>
                        </g>
                    </svg>
                </span>
                <span class="login-error-msg">
                    帐号或密码错误
                </span>
            </div>
        </div>
        <div class="app-mt-24 app-text-center">
            <div>
                <d-button [ngClass]="{'btn-disabled': !loginData?.username || !loginData?.password}"
                    class="app-width-full" bsStyle="danger" bsSize="lg" (btnClick)="login()">登录</d-button>
            </div>
            <div class="app-mt-20">
                <span class="app-inline-block app-mr-4 app-pointer">注册</span> | <span
                    class="app-inline-block app-ml-4 app-pointer">忘记密码</span>
            </div>
        </div>
    </div>
</div>